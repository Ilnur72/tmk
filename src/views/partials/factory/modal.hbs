<style>
    #map-edit {
        width: 100%;
        height: 400px;
        /* yoki height: 100vh; istasang */
        margin-top: 20px;
    }
</style>
<form id="factory-edit-modal-form">
    <div class="p-5 flex gap-4">
        <div class="preview relative [&amp;.hide]:overflow-hidden [&amp;.hide]:h-0 flex flex-col gap-1 justify-center">
        <div id="factory-data" 
            data-factory='{{json factory}}' 
            style="display:none;">
        </div>
            <div>
                <label data-tw-merge for="regular-form-1"
                    class="inline-block mb-2 group-[.form-inline]:mb-2 group-[.form-inline]:sm:mb-0 group-[.form-inline]:sm:mr-5 group-[.form-inline]:sm:text-right">–õ–æ–π–∏“≥–∞
                    –Ω–æ–º–∏
                </label>
                <input data-tw-merge id="regular-form-edit-input" type="text" placeholder="–õ–æ–π–∏“≥–∞ –Ω–æ–º–∏"
                    value="{{factory.name}}" name="name"
                    class="disabled:bg-slate-100 disabled:cursor-not-allowed dark:disabled:bg-darkmode-800/50 dark:disabled:border-transparent [&[readonly]]:bg-slate-100 [&[readonly]]:cursor-not-allowed [&[readonly]]:dark:bg-darkmode-800/50 [&[readonly]]:dark:border-transparent transition duration-200 ease-in-out w-full text-sm border-slate-200 shadow-sm rounded-md placeholder:text-slate-400/90 focus:ring-4 focus:ring-primary focus:ring-opacity-20 focus:border-primary focus:border-opacity-40 dark:bg-darkmode-800 dark:border-transparent dark:focus:ring-slate-700 dark:focus:ring-opacity-50 dark:placeholder:text-slate-500/80 group-[.form-inline]:flex-1 group-[.input-group]:rounded-none group-[.input-group]:[&:not(:first-child)]:border-l-transparent group-[.input-group]:first:rounded-l group-[.input-group]:last:rounded-r group-[.input-group]:z-10" />
            </div>
            <div>
                <label data-tw-merge for="regular-form-element"
                    class="inline-block mb-2 group-[.form-inline]:mb-2 group-[.form-inline]:sm:mb-0 group-[.form-inline]:sm:mr-5 group-[.form-inline]:sm:text-right">–ï–ª–µ–º–µ–Ω—Ç
                    –Ω–æ–º–∏
                </label>
                <input required="true" data-tw-merge id="regular-form-edit-element" type="text"
                    placeholder="–ï–ª–µ–º–µ–Ω—Ç –Ω–æ–º–∏" value="{{arrayToString factory.elements}}" name="elements"
                    class="disabled:bg-slate-100 disabled:cursor-not-allowed dark:disabled:bg-darkmode-800/50 dark:disabled:border-transparent [&[readonly]]:bg-slate-100 [&[readonly]]:cursor-not-allowed [&[readonly]]:dark:bg-darkmode-800/50 [&[readonly]]:dark:border-transparent transition duration-200 ease-in-out w-full text-sm border-slate-200 shadow-sm rounded-md placeholder:text-slate-400/90 focus:ring-primary focus:ring-opacity-20 focus:border-primary focus:border-opacity-40 dark:bg-darkmode-800  dark:focus dark:focus:ring-opacity-50 dark:placeholder:text-slate-500/80 group-[.form-inline]:flex-1 group-[.input-group]:rounded-none group-[.input-group]:[&:not(:first-child)]:border-l-transparent group-[.input-group]:first:rounded-l group-[.input-group]:last:rounded-r group-[.input-group]:z-10" />
            </div>
            <div>
                <label data-tw-merge for="regular-form-region"
                    class="inline-block mb-2 group-[.form-inline]:mb-2 group-[.form-inline]:sm:mb-0 group-[.form-inline]:sm:mr-5 group-[.form-inline]:sm:text-right">–†–µ–≥–∏–æ–Ω
                </label>
                <input required="true" data-tw-merge id="regular-form-region" type="text" placeholder="–†–µ–≥–∏–æ–Ω"
                    value="{{factory.region}}" name="region"
                    class="disabled:bg-slate-100 disabled:cursor-not-allowed dark:disabled:bg-darkmode-800/50 dark:disabled:border-transparent [&[readonly]]:bg-slate-100 [&[readonly]]:cursor-not-allowed [&[readonly]]:dark:bg-darkmode-800/50 [&[readonly]]:dark:border-transparent transition duration-200 ease-in-out w-full text-sm border-slate-200 shadow-sm rounded-md placeholder:text-slate-400/90 focus:ring-primary focus:ring-opacity-20 focus:border-primary focus:border-opacity-40 dark:bg-darkmode-800  dark:focus dark:focus:ring-opacity-50 dark:placeholder:text-slate-500/80 group-[.form-inline]:flex-1 group-[.input-group]:rounded-none group-[.input-group]:[&:not(:first-child)]:border-l-transparent group-[.input-group]:first:rounded-l group-[.input-group]:last:rounded-r group-[.input-group]:z-10" />
            </div>
            <div>
                <label data-tw-merge for="regular-form-cats"
                    class="inline-block mb-2 group-[.form-inline]:mb-2 group-[.form-inline]:sm:mb-0 group-[.form-inline]:sm:mr-5 group-[.form-inline]:sm:text-right">–ô—û–Ω–∞–ª–∏—à
                </label>
                <input required="true" data-tw-merge id="regular-form-cats" type="text" placeholder="–ô—û–Ω–∞–ª–∏—à"
                    value="{{factory.cats}}" name="cats"
                    class="disabled:bg-slate-100 disabled:cursor-not-allowed  dark:disabled:bg-darkmode-800/50 dark:disabled:border-transparent [&[readonly]]:bg-slate-100 [&[readonly]]:cursor-not-allowed [&[readonly]]:dark:bg-darkmode-800/50 [&[readonly]]:dark:border-transparent transition duration-200 ease-in-out w-full text-sm border-slate-200 shadow-sm rounded-md placeholder:text-slate-400/90 focus:ring-primary focus:ring-opacity-20 focus:border-primary focus:border-opacity-40 dark:bg-darkmode-800  dark:focus dark:focus:ring-opacity-50 dark:placeholder:text-slate-500/80 group-[.form-inline]:flex-1 group-[.input-group]:rounded-none group-[.input-group]:[&:not(:first-child)]:border-l-transparent group-[.input-group]:first:rounded-l group-[.input-group]:last:rounded-r group-[.input-group]:z-10" />
            </div>
            <div>
                <label data-tw-merge for="regular-form-1"
                    class="inline-block mb-2 group-[.form-inline]:mb-2 group-[.form-inline]:sm:mb-0 group-[.form-inline]:sm:mr-5 group-[.form-inline]:sm:text-right">–õ–æ–π–∏“≥–∞
                    –º–µ–Ω–µ–¥–∂–µ—Ä–∏
                </label>
                <input data-tw-merge id="regular-form-1" type="text" placeholder="–õ–æ–π–∏“≥–∞ –º–µ–Ω–µ–¥–∂–µ—Ä–∏"
                    value="{{factory.manager}}" name="manager"
                    class="disabled:bg-slate-100 disabled:cursor-not-allowed dark:disabled:bg-darkmode-800/50 dark:disabled:border-transparent [&[readonly]]:bg-slate-100 [&[readonly]]:cursor-not-allowed [&[readonly]]:dark:bg-darkmode-800/50 [&[readonly]]:dark:border-transparent transition duration-200 ease-in-out w-full text-sm border-slate-200 shadow-sm rounded-md placeholder:text-slate-400/90 focus:ring-primary focus:ring-opacity-20 focus:border-primary focus:border-opacity-40 dark:bg-darkmode-800  dark:focus dark:focus:ring-opacity-50 dark:placeholder:text-slate-500/80 group-[.form-inline]:flex-1 group-[.input-group]:rounded-none group-[.input-group]:[&:not(:first-child)]:border-l-transparent group-[.input-group]:first:rounded-l group-[.input-group]:last:rounded-r group-[.input-group]:z-10" />
            </div>
            <div>
                <label data-tw-merge for="regular-form-1"
                    class="inline-block mb-2 group-[.form-inline]:mb-2 group-[.form-inline]:sm:mb-0 group-[.form-inline]:sm:mr-5 group-[.form-inline]:sm:text-right">–õ–æ–π–∏“≥–∞
                    –∂–∞—Ä–∞—ë–Ω–∏
                </label>
                <input data-tw-merge id="regular-form-1" type="number" min="0" max="100" placeholder="–õ–æ–π–∏“≥–∞ –∂–∞—Ä–∞—ë–Ω–∏"
                    value="{{factory.work_persent}}" name="work_persent"
                    class="disabled:bg-slate-100 disabled:cursor-not-allowed dark:disabled:bg-darkmode-800/50 dark:disabled:border-transparent [&[readonly]]:bg-slate-100 [&[readonly]]:cursor-not-allowed [&[readonly]]:dark:bg-darkmode-800/50 [&[readonly]]:dark:border-transparent transition duration-200 ease-in-out w-full text-sm border-slate-200 shadow-sm rounded-md placeholder:text-slate-400/90 focus:ring-primary focus:ring-opacity-20 focus:border-primary focus:border-opacity-40 dark:bg-darkmode-800  dark:focus dark:focus:ring-opacity-50 dark:placeholder:text-slate-500/80 group-[.form-inline]:flex-1 group-[.input-group]:rounded-none group-[.input-group]:[&:not(:first-child)]:border-l-transparent group-[.input-group]:first:rounded-l group-[.input-group]:last:rounded-r group-[.input-group]:z-10" />
            </div>
            <div>
                <label data-tw-merge for="regular-form-1"
                    class="inline-block mb-2 group-[.form-inline]:mb-2 group-[.form-inline]:sm:mb-0 group-[.form-inline]:sm:mr-5 group-[.form-inline]:sm:text-right">–õ–æ–π–∏“≥–∞
                    —Å—Ç–∞—Ç—É—Å–∏
                </label>
                <select id="" name="status"
                    class="block w-full rounded-md border border-gray-300 bg-white p-2.5 text-base  focus:border-blue-500 focus:ring-blue-500">
                    <option value="REGISTRATION">–†–∞—Å–º–∏–π–ª–∞—à—Ç–∏—Ä–∏—à –∂–∞—Ä–∞—ë–Ω–∏–¥–∞</option>
                    <option value="CONSTRUCTION">“ö—É—Ä–∏–ª–∏—à –∂–∞—Ä–∞—ë–Ω–∏–¥–∞</option>
                    <option value="STARTED">–ò—à–≥–∞ —Ç—É—à–≥–∞–Ω</option>
                </select>
            </div>
        </div>

        <div class="form-group">
            <label>üó∫Ô∏è –õ–æ–π–∏“≥–∞ –∂–æ–π–ª–∞—à—É–≤–∏ <span style="color: red;">*</span></label>
            <div class="map-info">
                <strong>–ö—û—Ä—Å–∞—Ç–º–∞:</strong> –•–∞—Ä–∏—Ç–∞–¥–∞ –∫–µ—Ä–∞–∫–ª–∏ –∂–æ–π–Ω–∏ –±–æ—Å–∏–Ω–≥ —ë–∫–∏ –º–∞—Ä–∫–µ—Ä–Ω–∏ —Å—É–¥—Ä–∞–± –∫—û—á–∏—Ä–∏–Ω–≥
            </div>
            <div id="map-edit"></div>
            <div id="coordinates-display" class="coordinates-display" style="display: none;">
                <strong>–¢–∞–Ω–ª–∞–Ω–≥–∞–Ω –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞–ª–∞—Ä:</strong><br>
                –ö–µ–Ω–≥–ª–∏–∫: <span id="display-lat">-</span><br>
                –£–∑—É–Ω–ª–∏–∫: <span id="display-lng">-</span>
            </div>

        </div>

        <input type="hidden" name="latitude" id="latitude" />
        <input type="hidden" name="longitude" id="longitude" />
    </div>
    </div>
        <div class="px-5 pb-8 text-center">
            <button data-tw-merge="" data-tw-dismiss="modal" type="button"
                class="transition duration-200 border shadow-sm inline-flex items-center justify-center py-2 px-3 rounded-md font-medium cursor-pointer focus:ring-4 focus:ring-primary focus:ring-opacity-20 focus-visible:outline-none dark:focus:ring-slate-700 dark:focus:ring-opacity-50 [&:hover:not(:disabled)]:bg-opacity-90 [&:hover:not(:disabled)]:border-opacity-90 [&:not(button)]:text-center disabled:opacity-70 disabled:cursor-not-allowed border-secondary text-slate-500 dark:border-darkmode-100/40 dark:text-slate-300 [&:hover:not(:disabled)]:bg-secondary/20 [&:hover:not(:disabled)]:dark:bg-darkmode-100/10 mr-1 w-24">–Å–ø–∏—à</button>
            <button data-tw-merge="" type="submit"
                class="transition duration-200 btn-success border shadow-sm inline-flex items-center justify-center py-2 px-3 rounded-md font-medium cursor-pointer focus:ring-4 focus:ring-primary focus:ring-opacity-20 focus-visible:outline-none dark:focus:ring-slate-700 dark:focus:ring-opacity-50 [&:hover:not(:disabled)]:bg-opacity-90 [&:hover:not(:disabled)]:border-opacity-90 [&:not(button)]:text-center disabled:opacity-70 disabled:cursor-not-allowed bg-success border-success text-white dark:border-danger w-24">–°–∞“õ–ª–∞—à</button>
        </div>

</form>

<script src="https://unpkg.com/maplibre-gl@4.0.0/dist/maplibre-gl.js"></script>